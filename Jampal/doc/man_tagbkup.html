<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- Server: sf-web2 -->
<html lang="en">
  <head>
    <link rel="stylesheet" type="text/css" href="cssdef.css">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <meta name="keywords" content="mp3,id3v2,free">
    <title>
      Jampal Tag Backup (man page)
    </title>
    <style type="text/css">
<!--
    A:link { text-decoration:none }
    A:visited { text-decoration:none }
    A:active { text-decoration:none }
    A:hover { text-decoration:underline; color:#0066FF; }
    -->
    </style>
  </head>
  <body bgcolor="white" text="black" link="#003399" vlink="#003399" alink=
  "#003399">
    <br>
    <table width="100%" border="0" cellspacing="0">
      <tr>
        <td width="20%">
          <b>Jampal mp3 Library</b>
        </td>
        <td width="80%" class="xlgfc2b">
          <center>
            <b>Tag Backup (man page)</b>
          </center>
        </td>
      </tr>
    </table><br>
    <!--  Blue line   -->
    <table width="100%" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td height="3" bgcolor="blue"></td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="0" cellpadding="3">
      <tr>
        <td width="20%" bgcolor="#DDDDDD" valign="top">
          <br>
          <a href="summary.html">Summary of Features</a><br>
          <a href="features.html">Detailed Features</a><br>
          <a href="whats_new.html">What's New?</a><br>
          <a href="release_notes.html">Release Notes</a><br>
          <a href=
          "http://sourceforge.net/project/showfiles.php?group_id=107584">Download</a><br>

          <a href="installation.html">Installation &amp; Getting
          Started</a><br>
          <a href="license.html">License &amp; acknowledgements</a><br>
          <a href="http://sourceforge.net/projects/jampal">Project Info</a><br>
          <p>
            <b>User's Guide</b><br>
            <a href="library.html">Library Window</a><br>
            <a href="playlist.html">Playlist Window</a><br>
            <a href="editor.html">Track Editor Window</a><br>
            <a href="customization.html">Customization</a><br>
            <a href="advanced.html">Advanced Topics</a><br>
            <a href="regex.html">Regular Expressions</a><br>
            <a href="trouble.html">Trouble Shooting</a><br>
            <a href="tables.html">Tables</a><br>
            <a href="frames.html">ID3 Frame Descriptions</a><br>
          </p>
          <p>
            <b>Command Line</b><br>
            <a href="man_jampal.html"><b>jampal</b> Command</a><br>
            <a href="envelope.html">Making an Envelope</a><br>
            <a href="man_tagbkup.html">Tag Backup</a><br>
            <a href="ptts.html">Text to Speech</a><br>
          </p>
          <p>
            <b>Author</b><br>
            <a href="http://sourceforge.net/users/pgbennett">Peter Bennett</a>
          </p>
          <p>
            <b>My Other Projects</b><br>
            <a href="http://pbackup.sourceforge.net">Peter's Backup</a>
            <br><a href="http://proxpy.sourceforge.net">Proxy and debug tool </a>
          </p>
          <p>
            <!--  Blue line   -->
          </p>
          <table width="100%" border="0" cellspacing="0" cellpadding="0">
            <tr>
              <td height="3" bgcolor="blue"></td>
            </tr>
          </table>
          <center>
            <br>
            <a href="http://sourceforge.net/projects/jampal"><img src=
            "images/sourceforge.png"
            width="150" height="40" border="0" alt=
            "Get Jampal mp3 library at SourceForge.net. Fast, secure and Free Open Source software downloads">
            </a>
          </center>
        </td>
        <td valign="top">

 <!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<!--html
<head>
<title>TAGBKUP</title>
</head>
body-->
<a href='#toc'>Table of Contents</a><p>
 
<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>

<p> tagbkup - back up and restore mp3 tags 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>

<dl>

<dt><b>tagbkup</b> [ options
] <i>filename</i> ... <i>backupdir</i> </dt>
<dd>
<p> </dd>
</dl>

<h2><a name='sect2' href='#toc2'>Description</a></h2>
If you have a lot of information in your
mp3 tags, you want to protect it against accidental deletion. You could
back up your mp3 files every time you update the tags but that will take
a lot of disks. Using <b>tagbkup</b>  you can back up just the tags from your mp3
files and restore them into the files at any time. <p>
<b>tagbkup</b> can restore tags
to your mp3 files even if the mp3 files have been renamed or moved to different
directories. <p>
To back up your tags, create a separate directory where your
tag backup will be stored on your hard drive. Running <b>tagbkup</b> will copy
all of the tags from your mp3 files into files in that directory. <p>
You can
run <b>tagbkup</b> again and use the same backup directory to update your backup
with files whose tags have changed. Do this on a regular basis to make sure
you have backed up the most current data. <p>
Include your tag backup directory
in the list of directories backed up with your regular backup process. <p>
<b>tagbkup</b>
also includes an option to copy tags from one mp3 to another or to copy
them to empty mp3 files of the same name in another directory. You can also
strip the tags off a file (use the -cm option, see below). 
<p> 
<h2><a name='sect3' href='#toc3'>Options</a></h2>

<p> <b>-b</b> <blockquote>Backup
tags from mp3 files to the directory that is mentioned in the last parameter.
Any tags that are already up to date in that directory are not copied. </blockquote>

<p>
<b>-r</b> <blockquote>Restore tags from the directory that is mentioned in the last parameter
to the mp3 files listed before it. Any mp3 file whose tag was not backed
up to that directory will not be restored. </blockquote>

<p> <b>-c</b> <blockquote>Copy tags from mp3 files to
like named mp3 files in backupdir or copy tags from an mp3 file to another
mp3 file, where the output mp3 file name is supplied instead of backupdir.
</blockquote>

<p> <b>-c1</b> <blockquote>Append ID3V1 tag from mp3 file to output file. </blockquote>

<p> <b>-c2</b> <blockquote>Copy ID3V2 tag from
mp3 file to output file, overwriting existing file. </blockquote>

<p> <b>-cm</b> <blockquote>Append mp3 data
without tags from mp3 file to output file. If the output file does not exist
it is created. This can be used to strip tags off a file. </blockquote>

<p> <b>-d</b> <i>dir</i> <blockquote>Copy restored
mp3 files to this directory. Since restoring tags always involves copying
the whole mp3 file you can save time here. If you have your mp3 files on
a cd and want to restore them to the hard drive and restore their tags
you can do this at the same time. In this case the file listing of mp3 files
would be the contents of the CD and the desired hard drive place would
be in the &rsquo;-d&rsquo; parameter. </blockquote>

<p> <b>-t</b> <blockquote>Test - no copying of data. This is useful to get
a preview of what will be done in a backup or restore. </blockquote>

<p> <b>-v</b> <blockquote>Verbose. This lists
every input file and whether it was backed up, restored, etc. </blockquote>

<p> <b>-u</b> <blockquote>Report
updates done. This lists only the files that were backed up. In cases where
the latest data was already in the output directory they are not listed.
</blockquote>

<p> <b>-n</b> <blockquote>No overwriting of backup files, append log file. If this option is selected
and the tag data is already backed up in the output directory an additional
copy of it is created. This is useful if you are creating a first backup
with several runs of tagbkup. If you are creating a second backup of updated
tags it will start creating files with _001, _002 and these files are never
restored when running a restore. </blockquote>

<p> <b>-f</b> <i>filename</i> <blockquote>Input filename list is in file
<i>filename</i>. If you have a large number of mp3 files, create a file with the
names in it first and use this option. For example dir /b/s *.mp3 &gt; listfile
(under windows), or find . -name &rsquo;*.mp3&rsquo; &gt; listfile under unix or cygwin </blockquote>

<p> <b>-y</b> <blockquote>Continue
if there are errors, skipping failed files. If you are doing a restore and
you know that a lot of your tags were not backed up, this saves time. </blockquote>

<p> <b>-s</b>
<blockquote>File signature based on front part of file instead of end. The program creates
a backup file name for the tag based on the contents of the music near
the end of the file. Using this option changes it to base the backup file
name on the music near the start of the file. If this option is used for
backup it must also be used for restore. Use this option if you have faulty
tag updating software that corrupts the end of the file. My experience is
that faulty tag editing software is more likely to corrupt the start of
the file. Note that these corruptions of the file do not normally affect
the listening experiencing because they only delete a couple of thousandths
of a second from the start or end of the file. I recommend using Jampal
as your tag editor because it does not corrupt the beginning or end of
the file. </blockquote>

<p> <b>-x</b> <blockquote>Tags in 256 subdirectories. The tag backup files will be placed
in subdirectories named 00,01, ... up to ff, (256 in all). This has the following
advantages:  
<p> 
<dl>

<dt>(1) It overcomes a limitation in the FAT32 file system of
16384 </dt>
<dd>files per directory, so if you have more than that number of mp3
files and you are using FAT32 you will have to use the -x option.  
<p> </dd>

<dt>(2) It
makes it easier for </dt>
<dd>File Managers - If you click on a directory with 16000
files in it,  the system can hang for a minute or so while it retrieves
the information. If you use the -x option when creating a backup, you must
use it when restoring tags and also when updating the backup. I recommend
using the -x option even if you are using a file system that handles such
large directories, beacuse the smaller directories are more manageable.
</dd>
</dl>
</blockquote>

<p> 
<h2><a name='sect4' href='#toc4'>Examples</a></h2>
tagbkup -v -r -x -d $MAINDIR/000904_1758_rest /cdrom/*/*.mp3 $TAGBKUP/tagbkup

<p> <blockquote>Restore files from a cdrom in a directory structure than includes album
directories. While restoring them copy the tags from the tag bakup in  directory
$TAGBKUP/tagbkup. Any files that have no tag backup are not copied. </blockquote>

<p> 
<h2><a name='sect5' href='#toc5'>Files</a></h2>

<p>
<i>tag_xxxxxxxxxxxxxxxx_000.mp3</i> <blockquote>When creating a backup, the program creates
files with names like tag_486c9c23c09d87c8_000.mp3. The long string of hexadecimal
digits identifies a checksum of the actual mp3 sound data. This tag file
is a real mp3 file containing a few milliseconds of silence, you can examine
it with a tag editing program (e.g. load it into the jampal library). In some
systems you can display the song titles, artists, etc. in the backup files
by selecting options on the title bar. </blockquote>
<p>

<p> <i>tagbkup.log</i> <blockquote>This is created in the
backup directory. This contains a list of the backup file names and the
original files they came from. </blockquote>

<p> 
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='man_jampal.html'><b>jampal</b>(1)</a>
 
<p> 
<h2><a name='sect7' href='#toc7'>Web</a></h2>
<a href='http://jampal.sourceforge.net/tagbkup.html'>http://jampal.sourceforge.net/tagbkup.html</a>


<p> 
<p> 
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Options</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>Files</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Web</a></li>
</ul>
<!--body
/html-->

        </td>
      </tr>
    </table>
  </body>
</html>
